# üéÆ Minecraft Forge 1.20.1 ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

–ì–æ—Ç–æ–≤—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Minecraft Forge 1.20.1 –Ω–∞ VPS. –í –æ—Å–Ω–æ–≤–µ ‚Äî Docker Compose, Makefile –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∫—Ä–∏–ø—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## üß∞ –°—Ç–µ–∫
- üêß Ubuntu Server 24.04 LTS.
- üê≥ Docker Engine + Docker Compose.
- ‚öôÔ∏è `itzg/minecraft-server:java17` —Å Forge 1.20.1 (47.3.0).
- üõ†Ô∏è Makefile, bash-—Å–∫—Ä–∏–ø—Ç—ã, `.env`-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.

## –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç
- `Dockerfile` —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º Forge –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–æ—Ç–æ–≤—è—Ç –∫–∞—Ç–∞–ª–æ–≥–∏ `/data` –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç OPS/whitelist.
- `docker-compose.yml` —Å healthcheck –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- Makefile‚Äë–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤.
- –°–∫—Ä–∏–ø—Ç—ã `scripts/setup_host.sh` (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Ubuntu) –∏ `scripts/mc-console.sh` (–∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª—å).
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `docs/` (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, VPN) –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ `data/README.md`.

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Ubuntu Server 24.04 LTS.
- 2 vCPU, 6 –ì–ë RAM, SSD 20+ –ì–ë.
- –î–æ—Å—Ç—É–ø –ø–æ SSH —Å sudo.
- –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç 25565 (–∏–ª–∏ –¥—Ä—É–≥–æ–π, –∑–∞–¥–∞–Ω–Ω—ã–π –≤ `.env`).

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Ubuntu 24.04)
1. üì• –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞—Ä—Ö–∏–≤ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º `~/mc-forge`):
   ```bash
   git clone <URL_–í–ê–®–ï–ì–û_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø> ~/mc-forge
   cd ~/mc-forge/files-3
   ```
2. ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É:
   ```bash
   chmod +x scripts/setup_host.sh
   ./scripts/setup_host.sh
   ```
3. üìù –ü–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ SSH –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```bash
   make configure        # —Å–æ–∑–¥–∞—ë—Ç data/* –∏ .env (–µ—Å–ª–∏ –Ω–µ—Ç)
   make doctor           # –ø—Ä–æ–≤–µ—Ä—è–µ—Ç docker/compose/make
   nano .env             # –ø—Ä–∞–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ —Å–µ–±—è
   ```
4. üß± –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∏ –ø–æ–¥–Ω—è—Ç—å —Å—Ç–µ–∫:
   ```bash
   make build
   make up
   make logs             # —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
   ```
5. üîê –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç UFW):
   ```bash
   sudo ufw allow 25565/tcp
   sudo ufw reload
   ```
6. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑ Minecraft –ø–æ IP VPS –∏ –ø–æ—Ä—Ç—É –∏–∑ `.env`.

## –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –Ω—É–ª—è
1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã.** `scripts/setup_host.sh` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker Engine, Compose plugin, ufw –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É `docker`.
2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.**
   ```bash
   git clone <URL_–í–ê–®–ï–ì–û_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø> ~/mc-forge
   cd ~/mc-forge/files-3
   ```
3. **–°–æ–∑–¥–∞–Ω–∏–µ `.env`.** –í—ã–ø–æ–ª–Ω–∏ `make configure`, –∑–∞—Ç–µ–º –∏–∑–º–µ–Ω–∏ –º–∏–Ω–∏–º—É–º:
   - `SERVER_NAME` ‚Äî –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å–ø–∏—Å–∫–µ –∫–ª–∏–µ–Ω—Ç–æ–≤.
   - `LEVEL` ‚Äî –∏–º—è –º–∏—Ä–∞ (–ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –∫–∞—Ç–∞–ª–æ–≥—É `data/my_world`).
   - `MODE`, `DIFFICULTY`, `MAX_PLAYERS` ‚Äî –≥–µ–π–º–ø–ª–µ–π–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
   - `ONLINE_MODE`, `WHITELIST`, `OPS` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
   –ü—Ä–∏–º–µ—Ä –±–ª–æ–∫–∞:
   ```
   SERVER_NAME=MirageCraft
   LEVEL=Mirage
   MODE=survival
   ```
4. **–ó–∞–ø—É—Å–∫.** `make build` (—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞) ‚Üí `make up`. Forge –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –º–æ–¥—ã –∏–∑ `data/mods` –∏ –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ `data/config`.
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞.** `make status`, `make logs`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ `scripts/mc-console.sh "time set day"`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
files-3/
‚îú‚îÄ Dockerfile
‚îú‚îÄ docker-compose.yml
‚îú‚îÄ Makefile
‚îú‚îÄ .env.example
‚îú‚îÄ data/
‚îú‚îÄ docs/
‚îî‚îÄ scripts/
   ‚îú‚îÄ setup_host.sh
   ‚îú‚îÄ mc-console.sh
   ‚îî‚îÄ container/
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `.env`
| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|
| `SERVER_NAME` | –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å–ø–∏—Å–∫–µ |
| `VERSION`, `FORGE_VERSION` | –≤–µ—Ä—Å–∏–∏ Minecraft/Forge (–º–µ–Ω—è—Ç—å –≤–º–µ—Å—Ç–µ —Å –º–æ–¥–∞–º–∏) |
| `MEMORY` | –ª–∏–º–∏—Ç RAM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `LEVEL`, `LEVEL_TYPE`, `SEED` | –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∏—Ä–∞ |
| `MODE`, `DIFFICULTY`, `ALLOW_CHEATS`, `FORCE_GAMEMODE` | –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã |
| `MAX_PLAYERS`, `VIEW_DISTANCE`, `SIMULATION_DISTANCE` | –Ω–∞–≥—Ä—É–∑–∫–∞/–ª–∏–º–∏—Ç—ã |
| `ONLINE_MODE`, `WHITELIST`, `OPS` | –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å |
| `SYNC_OPS_FROM_ENV`, `SYNC_WHITELIST_FROM_ENV` | –µ—Å–ª–∏ `true`, `ops.json` –∏ `whitelist.json` –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –∏–∑ `.env` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ |
| `PUBLISHED_PORT` | –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç Docker |
| `TIMEZONE`, `RADMIN_VPN_IP` | –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã |

–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–º. –≤ `docs/SERVER_SETTINGS.md`.

## Makefile –∏ —Å–∫—Ä–∏–ø—Ç—ã
| –ö–æ–º–∞–Ω–¥–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `make configure` | —Å–æ–∑–¥–∞—ë—Ç –∫–∞—Ç–∞–ª–æ–≥–∏ `data/*`, –∫–æ–ø–∏—Ä—É–µ—Ç `.env.example` |
| `make doctor` | –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ `docker`, `docker compose`, `make` –¥–æ—Å—Ç—É–ø–Ω—ã |
| `make build` | —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ `mc-forge:1.20.1` |
| `make up` / `make down` | —Å—Ç–∞—Ä—Ç/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–µ–∫–∞ |
| `make restart`, `make stop`, `make start` | —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º |
| `make logs`, `make status` | –ª–æ–≥–∏ –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `make pull` | –ø–æ–¥—Ç—è–Ω—É—Ç—å —Å–≤–µ–∂–∏–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ |
| `scripts/mc-console.sh "..."` | –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ª—é–±—É—é –∫–æ–Ω—Å–æ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É |
| `scripts/setup_host.sh` | –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —á–∏—Å—Ç–æ–π Ubuntu 24.04 |

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∂–∏–≤—É—Ç –≤ `data/`. –ü–µ—Ä–µ–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏ –∫–æ–ø–∏—Ä—É–π `data/my_world`.
- –õ–æ–≥–∏ –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –∏ –≤–Ω–µ Docker: `tail -f data/logs/latest.log`.
- –î–ª—è VPN-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –±–µ–∑ –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–∞ —Å–º. `docs/vpn/RADMIN.md`.
- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è, —Å–Ω–∞—á–∞–ª–∞ `docker compose ps` –∏ `docker compose logs mc`, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–π `.env`.
- –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `.env` –∏ –æ—Å–æ–±–µ–Ω–Ω–æ `OPS`/`WHITELIST` –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π —Å—Ç–µ–∫ (`make down && make up`), —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ä–∞–±–æ—Ç–∞–ª–∞.

–¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `.env` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `make up` ‚Äî —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ VPS –∏ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏–≥—Ä–æ–∫–æ–≤.
